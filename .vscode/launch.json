// {
//     "version": "0.2.0",
//     "configurations": [
//         {
//             "name": "Debug PyTorch Training",
//             "type": "python",
//             "request": "launch",
//             "program": "${workspaceFolder}/src/text_cls.py",
//             "console": "integratedTerminal",
//             "justMyCode": false,
//         },
//     ],
// }
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Debug PyTorch Distributed Training",
            "type": "python",
            "request": "launch",
            "module": "torch.distributed.run",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--nproc_per_node=1",
                "--master_port=29525",
                "train_dist_mod.py",
                "--num_decoder_layers",
                "6",
                "--use_color",
                "--weight_decay",
                "0.0005",
                "--data_root",
                "data/",
                "--val_freq",
                "1",
                "--batch_size",
                "1",
                "--save_freq",
                "5",
                "--print_freq",
                "1000",
                "--lr_backbone",
                "1e-3",
                "--lr",
                "1e-4",
                "--dataset",
                // "nr3d",
                // "3eed",
                // "m3ed-quad",
                "waymo-multi",
                "--test_dataset",
                // "nr3d",
                // "3eed",
                // "m3ed-quad",
                "waymo-multi",
                "--detect_intermediate",
                "--use_soft_token_loss",
                "--use_contrastive_align",
                "--log_dir",
                "./logs/bdetr_debug",
                "--lr_decay_epochs",
                "25",
                "26",
                "--self_attend",
                "--augment_det",
                "--debug"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "3"
            }
        }
        // {
        //     "name": "Debug PyTorch Distributed Training",
        //     "type": "python",
        //     "request": "launch",
        //     "program": "${workspaceFolder}/train_dist_mod.py",
        //     "console": "integratedTerminal",
        //     "justMyCode": false,
        //     "args": [
        //         "--num_decoder_layers",
        //         "6",
        //         "--use_color",
        //         "--weight_decay",
        //         "0.0005",
        //         "--data_root",
        //         "/home/rongl/code/butd_detr_3d/data/",
        //         "--val_freq",
        //         "1",
        //         "--batch_size",
        //         "1",
        //         "--save_freq",
        //         "5",
        //         "--print_freq",
        //         "1000",
        //         "--lr_backbone",
        //         "1e-3",
        //         "--lr",
        //         "1e-4",
        //         "--dataset",
        //         // "nr3d",
        //         "3eed",
        //         "--test_dataset",
        //         // "nr3d",
        //         "3eed",
        //         "--detect_intermediate",
        //         // "--joint_det",
        //         "--use_soft_token_loss",
        //         "--use_contrastive_align",
        //         "--log_dir",
        //         "./logs/bdetr_debug",
        //         "--lr_decay_epochs",
        //         "25",
        //         "26",
        //         "--pp_checkpoint",
        //         "/home/rongl/code/butd_detr_3d/data/gf_detector_l6o256.pth",
        //         // "--butd",
        //         "--self_attend",
        //         "--augment_det",
        //         "--debug",
        //     ],
        //     "env": {
        //         "TORCH_DISTRIBUTED_DEBUG": "INFO",
        //         // "CUDA_VISIBLE_DEVICES": "1",
        //         "MASTER_PORT": "29510"
        //     },
        //     "pythonArgs": [
        //         "-m",
        //         "torch.distributed.run",
        //         "--nproc_per_node=1"
        //     ]
        // }
    ]
}